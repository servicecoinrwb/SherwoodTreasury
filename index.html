<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sherwood Forest | $QUIVER & $ARROW</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ethers/6.7.0/ethers.umd.min.js"></script>
    <style>
        :root { --forest-dark: #0b2916; --gold: #f1c40f; --quiver-blue: #3498db; --arrow-green: #2ecc71; }
        body { font-family: 'Courier New', monospace; background: var(--forest-dark); color: white; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        .container { background: rgba(0,0,0,0.9); border: 2px solid var(--gold); border-radius: 15px; padding: 30px; width: 100%; max-width: 500px; box-shadow: 0 0 30px rgba(0,0,0,0.8); }
        h1 { color: var(--gold); text-align: center; text-transform: uppercase; margin-bottom: 20px; }
        .stat-card { background: #111; padding: 15px; border-radius: 8px; margin-bottom: 10px; border-left: 5px solid var(--gold); }
        .stat-quiver { border-left-color: var(--quiver-blue); }
        .stat-label { font-size: 0.7rem; color: #888; text-transform: uppercase; letter-spacing: 1px; }
        .stat-value { font-size: 1.3rem; font-weight: bold; display: block; color: #fff; }
        .btn { width: 100%; padding: 15px; border: none; border-radius: 5px; cursor: pointer; font-weight: bold; text-transform: uppercase; margin-top: 15px; transition: 0.3s; }
        .btn-gold { background: var(--gold); color: black; }
        .btn-gold:hover { background: #d4ac0d; transform: scale(1.02); }
        #status { text-align: center; font-size: 0.8rem; margin-top: 15px; color: var(--arrow-green); }
    </style></head><body>

    <div class="container">
        <h1>üèπ Sherwood Forest</h1>
        
        <div id="statArea">
            <div class="stat-card"><span class="stat-label">Native Gold (ETH)</span><span class="stat-value" id="userEth">0.0000</span></div>
            <div class="stat-card"><span class="stat-label">Treasury Shares (ARROW)</span><span class="stat-value" id="userArrows">0.0000</span></div>
            <div class="stat-card stat-quiver"><span class="stat-label">Governance (QUIVER)</span><span class="stat-value" id="userQuiver" style="color:var(--quiver-blue)">0.0000</span></div>
        </div>

        <button id="connectBtn" class="btn btn-gold">Connect Outlaw Wallet</button>
        
        <div id="ui" style="display:none;">
            <input type="number" id="amt" style="width:100%; padding:12px; background:#222; border:none; color:white; margin-top:10px;" placeholder="ETH to Stake">
            <button onclick="doDeposit()" class="btn btn-gold">Join Merry Men</button>
            <button onclick="doRob()" class="btn" style="background:transparent; border:1px solid var(--gold); color:var(--gold);">‚öîÔ∏è Rob the Sheriff</button>
            <div id="status">Ready for ambush...</div>
        </div>
    </div><script>
    // PASTE YOUR NEW QUIVER TOKEN ADDRESS HERE
    const QUIVER_ADDR = "PASTE_YOUR_QUIVER_TOKEN_ADDRESS"; 
    // YOUR UPDATED CONTRACT ADDRESS
    const ARROW_TREASURY = "0x10F7Efb4Bd544E0436dD4bACe5bf7284D75ea44e"; 
    
    const ERC20_ABI = ["function balanceOf(address) view returns (uint256)"];
    const TREASURY_ABI = [
        "function balanceOf(address) view returns (uint256)",
        "function deposit(address) payable",
        "function robTheSheriff()"
    ];

    let provider, signer, quiverContract, arrowContract;

    async function connect() {
        if (!window.ethereum) return alert("Install MetaMask!");
        provider = new ethers.BrowserProvider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = await provider.getSigner();
        
        quiverContract = new ethers.Contract(QUIVER_ADDR, ERC20_ABI, signer);
        arrowContract = new ethers.Contract(ARROW_TREASURY, TREASURY_ABI, signer);

        document.getElementById('ui').style.display = 'block';
        document.getElementById('connectBtn').style.display = 'none';
        refresh();
        setInterval(refresh, 15000); 
    }

    async function refresh() {
        const addr = await signer.getAddress();
        const [eth, arrows, quiver] = await Promise.all([
            provider.getBalance(addr),
            arrowContract.balanceOf(addr),
            quiverContract.balanceOf(addr).catch(() => 0n) // Handles if QUIVER isn't deployed yet
        ]);

        document.getElementById('userEth').innerText = ethers.formatEther(eth).substring(0,6) + " ETH";
        document.getElementById('userArrows').innerText = ethers.formatEther(arrows).substring(0,6) + " ARROW";
        document.getElementById('userQuiver').innerText = ethers.formatUnits(quiver, 18).toLocaleString() + " QUIVER";
    }

    async function doDeposit() {
        const val = document.getElementById('amt').value;
        const tx = await arrowContract.deposit("0x0000000000000000000000000000000000000000", { value: ethers.parseEther(val) });
        await tx.wait();
        refresh();
    }

    async function doRob() {
        const tx = await arrowContract.robTheSheriff();
        await tx.wait();
        refresh();
    }

    document.getElementById('connectBtn').onclick = connect;</script></body></html>
